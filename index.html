<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="keywords" content="crossword games, word games, word puzzle games, best crossword game, scrabble alternative, online word games, word game apps, brain games, Wuzzle, scrabble, wordle, new wordle, crosswords, game, mobile, best, top 10, puzzles, words, brain teaser, fun, challenge">
        
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">    

    <link rel="stylesheet" href="newstyles.css">        
</head>
<body>
<main>
  <header>  	
  </header>  
  <div class="center">
    <div class="content">
      <div class="preview">
        <img src="previews/en/0.png" alt="Image 1" class="active">
        <img src="previews/en/1.png" alt="Image 2">
        <img src="previews/en/2.png" alt="Image 3">
        <img src="previews/en/3.png" alt="Image 4">
        <img src="previews/en/4.png" alt="Image 5">

        <div class="controls">
          <button id="prev">&#9664;</button>
          <button id="next">&#9654;</button>
        </div>
        <div class="app">
          <div class="links">    
            <a id="google-play-link" href="#"><img alt='Get it on Google Play' height=60px width=155px src='https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png'/></a>                
            <a id="app-store-link" href="#" style="display: inline-block; overflow: hidden; border-radius: 13px; height: 42px; margin-bottom: 4px"><img src="https://tools.applemediaservices.com/api/badges/download-on-the-app-store/black/en-us?size=250x83&amp;releaseDate=1331251200?h=e787b40f0e3dbf9e419a649418a3e23a" alt="Download on the App Store" style="border-radius: 13px; height: 42px;"></a>                
          </div>
          <div class="flags">
            <img src="https://flagcdn.com/w40/de.png" alt="German" data-locale="de">
            <img src="https://flagcdn.com/w40/us.png" alt="English" data-locale="en">
            <img src="https://flagcdn.com/w40/es.png" alt="Spanish" data-locale="es">
            <img src="https://flagcdn.com/w40/pt.png" alt="Portuguese" data-locale="pt">
            <img src="https://flagcdn.com/w40/fr.png" alt="French" data-locale="fr">
            <img src="https://flagcdn.com/w40/it.png" alt="Italian" data-locale="it">
            <img src="https://flagcdn.com/w40/nl.png" alt="Dutch" data-locale="nl">
            <img src="https://flagcdn.com/w40/pl.png" alt="Polish" data-locale="pl">
            <img src="https://flagcdn.com/w40/jp.png" alt="Japanese" data-locale="ja">
          </div>
        </div> 
      </div>            
      <div class="title">        
      </div>           
    </div>        
  </div>    
  <footer>  	
    <div class="left"><a href="./terms_of_use.html">Terms Of Use</a></div>
    <div class="left"><a href="./data_privacy.html">Data Privacy</a></div>
    <div class="right"><a href="./imprint.html">Imprint</a></div>
    <div class="right"><a href="mailto:bamberg@city-tour.app">Contact</a></div>
    <br>    
  </footer>
</main>   

<script>
  const supportedLocales = ["en", "de"];
  const urlParams = new URLSearchParams(window.location.search);
    let locale = navigator.language.slice(0, 2);
    let campaign = urlParams.get("campaign") || "default";

    function updateLinks(campaign) {
      document.getElementById("google-play-link").href = `https://play.google.com/store/apps/details?id=app.wuzzle&pcampaignid=${campaign}`;
      document.getElementById("app-store-link").href = `https://apps.apple.com/de/app/wuzzle-word-lanes-word-jam/id1660307373?itsct=apps_box_badge&itscg=30200&campaign=${campaign}`;
    }

    if (!supportedLocales.includes(locale)) {
      locale = "en"; // Default to 'en' if locale is not supported
    }

    const images = document.querySelectorAll(".preview img");

    // Update image paths based on locale
    function updateImages(newLocale) {
      images.forEach((img, index) => {
        img.src = `previews/${newLocale}/${index}.png`;
      });
    }

    updateImages(locale);
    updateLinks(campaign);

    const prevButton = document.getElementById("prev");
    const nextButton = document.getElementById("next");
    let currentIndex = 0;
    const intervalTime = 3000; // Time in milliseconds to show each image

    function showImage(index) {
      images.forEach((img, i) => {
        img.classList.toggle("active", i === index);
      });
    }

    function showNextImage() {
      currentIndex = (currentIndex + 1) % images.length;
      showImage(currentIndex);
    }

    function showPrevImage() {
      currentIndex = (currentIndex - 1 + images.length) % images.length;
      showImage(currentIndex);
    }

    // Auto-rotate images
    let interval = setInterval(showNextImage, intervalTime);

    // Navigation button event listeners
    nextButton.addEventListener("click", () => {
      clearInterval(interval);
      showNextImage();
      interval = setInterval(showNextImage, intervalTime);
    });

    prevButton.addEventListener("click", () => {
      clearInterval(interval);
      showPrevImage();
      interval = setInterval(showNextImage, intervalTime);
    });

    // Flag click event listeners
    document.querySelectorAll(".flags img").forEach(flag => {
      flag.addEventListener("click", () => {
        const newLocale = flag.getAttribute("data-locale");
        updateImages(newLocale);
        locale = newLocale;
      });
    });  
</script>
</body>
</html>
